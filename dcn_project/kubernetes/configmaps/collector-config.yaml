apiVersion: v1
kind: ConfigMap
metadata:
  name: collector-config
  namespace: dcn
  labels:
    app: dcn-collector
data:
  collector.yaml: |
    poll_interval: 60
    kafka_topic: dcn-metrics
    collectors:
      ontap:
        enabled: true
        poll_interval: 60
        timeout: 30
        clusters:
          - name: prod-cluster-01
            api_endpoint: https://prod-cluster-01.example.com
          - name: prod-cluster-02
            api_endpoint: https://prod-cluster-02.example.com
      storagegrid:
        enabled: true
        poll_interval: 60
        grids:
          - name: grid-01
            api_endpoint: https://storagegrid-01.example.com
      generic:
        enabled: false
        sources: []

  logging.conf: |
    version: 1
    formatters:
      default:
        format: '%(asctime)s - %(name)s - %(levelname)s - %(message)s'
    handlers:
      console:
        class: logging.StreamHandler
        level: INFO
        formatter: default
        stream: ext://sys.stdout
    root:
      level: INFO
      handlers: [console]
